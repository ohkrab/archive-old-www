<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Migrate down The migrate down command rollbacks selected migration.
After successful operation its version is removed from the migration table. At the beginning of an operation advisory lock is acquired to prevent other operations to run simultaneously.
Usage krab migrate down [set] [version] Options  set - name of the set to migrate. version - migration version to rollback.  Example For default migration set and migration version 20060102150405 you would use:"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="down"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://ohkrab.dev/docs/commands/migrate/down/"><title>down | Oh Krab!</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.508cb7d44af698c8168fb53b994c078279d27ebf22955771fcc28c795a2e3aee.css integrity="sha256-UIy31Er2mMgWj7U7mUwHgnnSfr8ilVdx/MKMeVouOu4=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.8523dfd49e5d59ca20803141fe26a3829a795d5cc8afed59cfcaa34fc00f252b.js integrity="sha256-hSPf1J5dWcoggDFB/iajgpp5XVzIr+1Zz8qjT8APJSs=" crossorigin=anonymous></script><link rel=alternate type=application/rss+xml href=https://ohkrab.dev/docs/commands/migrate/down/index.xml title="Oh Krab!"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a href=/><img src=/logo.svg alt=Logo><span>Oh Krab!</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Get Started</span><ul><li><a href=https://ohkrab.dev/docs/get_started/overview/>Overview</a><ul></ul></li><li><a href=https://ohkrab.dev/docs/get_started/installation/>Installation</a><ul></ul></li><li><a href=https://ohkrab.dev/docs/get_started/changelog/>Changelog</a><ul></ul></li></ul></li><li class=book-section-flat><span>Configuration</span><ul><li><a href=https://ohkrab.dev/docs/configuration/overview/>Overview</a><ul></ul></li><li><a href=https://ohkrab.dev/docs/configuration/environment_variables/>Environment Variables</a><ul></ul></li><li><span>Resources</span><ul><li><a href=https://ohkrab.dev/docs/configuration/resources/migration/>Migration</a><ul></ul></li><li><a href=https://ohkrab.dev/docs/configuration/resources/migration_set/>Migration Set</a><ul></ul></li></ul></li></ul></li><li class=book-section-flat><span>Functions</span><ul><li><a href=https://ohkrab.dev/docs/functions/filesystem/>Filesystem</a><ul></ul></li></ul></li><li class=book-section-flat><span>Commands</span><ul><li><span>Migrate</span><ul><li><a href=https://ohkrab.dev/docs/commands/migrate/down/ class=active>down</a><ul></ul></li><li><a href=https://ohkrab.dev/docs/commands/migrate/up/>up</a><ul></ul></li></ul></li><li><a href=https://ohkrab.dev/docs/commands/version/>Version</a></li></ul></li></ul></nav><script>(function(){var menu=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>down</strong>
<label for=toc-control></label></div></header><article class=markdown><h1 id=migrate-down>Migrate down</h1><p>The <code>migrate down</code> command rollbacks selected migration.</p><p>After successful operation its <code>version</code> is removed from the migration table.
At the beginning of an operation advisory lock is acquired to prevent other operations to run simultaneously.</p><h2 id=usage>Usage</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>krab migrate down <span style=color:#f92672>[</span>set<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>version<span style=color:#f92672>]</span>
</code></pre></div><h3 id=options>Options</h3><ul><li><code>set</code> - name of the set to migrate.</li><li><code>version</code> - migration version to rollback.</li></ul><h2 id=example>Example</h2><p>For <code>default</code> <a href=https://ohkrab.dev/docs/configuration/resources/migration_set/>migration set</a> and <a href=https://ohkrab.dev/docs/configuration/resources/migration/>migration</a> version <code>20060102150405</code> you would use:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>krab migrate down default <span style=color:#ae81ff>20060102150405</span>
</code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/ohkrab/www/commit/a9cfb1407b13633d7de25055e7bd0e41ef4e2429 title="Last modified by Nika | 6 July 2021" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>6 July 2021</span></a></div><div><a class="flex align-center" href=https://github.com/ohkrab/www/edit/master/content/docs/commands/migrate/down/_index.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function select(element){const selection=window.getSelection();const range=document.createRange();range.selectNodeContents(element);selection.removeAllRanges();selection.addRange(range);}
document.querySelectorAll("pre code").forEach(code=>{code.addEventListener("click",function(event){select(code.parentElement);if(navigator.clipboard){navigator.clipboard.writeText(code.parentElement.textContent);}});});})();</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div></main></body></html>